<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Single Page App displaying comments - City Uni" />
    <meta name="author" content="Urfan Malik" />

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Single Page App - City University</title>

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body>
    <div class="container-fluid">
        <h1>Single Page App <small class="text-muted">displaying comments from RESTful API</small></h1>
        <h2>Below...</h2>

        <p>Result:<br /> </p>
        <div id="id01"></div>
    </div>
</body>

<script>

    function printData(commentsArr)
    {
        var out = "";
        var i;

        out += '<table class="table table-hover">';
        out += '<thead class="thead-light">';
        out += "<tr>";
        out += '<th style="width: 10px">Post id</th>' +
            '<th>ID</th>' +
            '<th>Name</th>' +
            '<th>Email</th>' +
            '<th>Body</th>';
        out += '</tr>';
        out += '</thead>';
        for(i = 0; i < commentsArr.length; i++)
        {
            out += "<tr>";
            out += '<td>' + commentsArr[i].postId + '</td>' +
                '<td>' + commentsArr[i].id + '</td>' +
                '<td>' + commentsArr[i].name + '</td>' +
                '<td>' + commentsArr[i].email + '</td>' +
                '<td>' + commentsArr[i].body + '</td>';
            out += "</tr>";
        }
        out += "</table>";
        document.getElementById("id01").innerHTML = out;
    }


    //$("p").hide();
    $(document).ready(function()
    {
        var urlStr = "https://jsonplaceholder.typicode.com/comments";
        //alert('test');
        $.get(urlStr, function(data, status){
            //alert("Data: " + data + "\nStatus: " + status);
            printData(data);
        });
    });





/*
    var xmlhttp = new XMLHttpRequest();


    xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var myArr = JSON.parse(this.responseText);
            myFunction(myArr);
        }
    };
    xmlhttp.open("GET", url, true);
    xmlhttp.send();
*/



</script>

</html>